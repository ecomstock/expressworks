//expressworks 4
const express = require('express')
let bodyparser = require('body-parser')
let port = Number(process.argv[2])
let app = express()

app.use(bodyparser.urlencoded({
	extended: false
}))

app.post('/form', (request, response) => {
	response.end(request.body.str.split('').reverse().join(''))
})

app.listen(port)

// //expressworks 3
// const express = require('express')
// let port = Number(process.argv[2])
// let pugPath = process.argv[3]
// let app = express()
// app.set('view engine', 'pug')
// app.set('views', pugPath)
// app.get('/home', (request, response) => {
// 	response.render('index', {date: new Date().toDateString()})
// })
// app.listen(port)

// //expressworks 2
// const express = require('express')
// let port = Number(process.argv[2])
// let dir = process.argv[3]
// let app = express()
// app.use(express.static(dir || path.join(__dirname, 'public')))
// app.listen(port)

// //expressworks 1
// const express = require('express')
// let app = express()
// let port = process.argv[2]
// app.get('/home', (request, response) => {
// 	response.end('Hello World!')
// })
// app.listen(Number(port))